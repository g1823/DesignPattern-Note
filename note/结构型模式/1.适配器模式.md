## å¼•å…¥

â€‹	å®¶é‡Œçš„æ’åº§éƒ½æ˜¯220vçš„ï¼Œç„¶è€Œæ‰‹æœºå……ç”µéœ€è¦ç”µå‹ä¸º5vï¼Œæ˜¾ç„¶æ‰‹æœºæ— æ³•ç›´æ¥è¿æ¥æ’åº§è¿›è¡Œå……ç”µã€‚å› æ­¤éœ€è¦ä¸€ä¸ªé€‚é…å™¨ï¼Œä¹Ÿå°±æ˜¯å……ç”µå¤´æ¥è½¬æ¢ç”µå‹ï¼Œå°†220vé€‚é…ä¸€ä¸‹ã€‚

â€‹	åœ¨è½¯ä»¶å¼€å‘ä¸­é‡‡ç”¨ç±»ä¼¼äºç”µæºé€‚é…å™¨çš„è®¾è®¡å’Œç¼–ç æŠ€å·§è¢«ç§°ä¸ºé€‚é…å™¨æ¨¡å¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ç›®æ ‡ç±»çš„æ¥å£è®¿é—®å®ƒæ‰€æä¾›çš„æœåŠ¡ã€‚

â€‹	æœ‰æ—¶ï¼Œç°æœ‰çš„ç±»å¯ä»¥æ»¡è¶³å®¢æˆ·ç±»çš„åŠŸèƒ½éœ€è¦ï¼Œä½†æ˜¯å®ƒæ‰€æä¾›çš„æ¥å£ä¸ä¸€å®šæ˜¯å®¢æˆ·ç±»æ‰€æœŸæœ›çš„ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºç°æœ‰ç±»ä¸­æ–¹æ³•åä¸ç›®æ ‡ç±»ä¸­å®šä¹‰çš„æ–¹æ³•åä¸ä¸€è‡´ã€å‚æ•°ä¸åŒç­‰åŸå› æ‰€å¯¼è‡´ã€‚

â€‹	å¦‚ä½•åœ¨ä¸ä¿®æ”¹å®¢æˆ·ç«¯å’ŒåŸæœ‰ç›®æ ‡ç±»åŸºç¡€ä¸Šï¼Œè®©å®¢æˆ·ç«¯èƒ½å¤Ÿä½¿ç”¨ç›®æ ‡ç±»ä¸­çš„æ–¹æ³•ï¼Œå°±æ˜¯é€‚é…å™¨æ¨¡å¼æ‰€è¦è§£å†³çš„é—®é¢˜ã€‚

## å®šä¹‰

é€‚é…å™¨æ¨¡å¼åˆ†ä¸ºä¸‰ç§ï¼š

â€‹	ç±»é€‚é…å™¨æ¨¡å¼ã€å¯¹è±¡é€‚é…å™¨æ¨¡å¼ã€æ¥å£é€‚é…å™¨æ¨¡å¼ï¼ˆç¼ºçœé€‚é…å™¨æ¨¡å¼ï¼‰

### å·¥ä½œåŸç†ï¼š

1) é€‚é…å™¨æ¨¡å¼ï¼šå°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå¦ä¸€ç§æ¥å£ï¼Œè®©åŸæœ¬æ¥å£ä¸å…¼å®¹çš„ç±»å¯ä»¥å…¼å®¹ã€‚

2) ä»ç”¨æˆ·çš„è§’åº¦çœ‹ä¸åˆ°è¢«é€‚é…è€…ï¼Œæ˜¯è§£è€¦çš„ã€‚

3) ç”¨æˆ·è°ƒç”¨é€‚é…å™¨è½¬åŒ–å‡ºæ¥çš„ç›®æ ‡æ¥å£æ–¹æ³•ï¼Œé€‚é…å™¨å†è°ƒç”¨è¢«é€‚é…è€…çš„ç›¸å…³æ¥å£æ–¹æ³•ã€‚

4) ç”¨æˆ·æ”¶åˆ°åé¦ˆç»“æœï¼Œæ„Ÿè§‰åªæ˜¯å’Œç›®æ ‡æ¥å£äº¤äº’ã€‚

#### å¯¹æ¯”ï¼š

| ç±»å‹                                | ç›®çš„                                 | å®ç°æ–¹å¼                                                     | æ ¸å¿ƒæ€æƒ³                                                     | è¯´æ˜                                                         |
| ----------------------------------- | ------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **ç±»é€‚é…å™¨ï¼ˆClass Adapterï¼‰**       | è®©â€œä¸å…¼å®¹çš„ç±»â€èƒ½è¢«å½“ä½œç›®æ ‡æ¥å£ä½¿ç”¨   | é€šè¿‡ç»§æ‰¿                                                     | é€‚é…å™¨**ç»§æ‰¿**è¢«é€‚é…è€…ï¼ˆAdapteeï¼‰ï¼ŒåŒæ—¶å®ç°ç›®æ ‡æ¥å£ï¼ˆTargetï¼‰ã€‚ | ç”±äº Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œä½¿ç”¨å—é™ã€‚                           |
| **å¯¹è±¡é€‚é…å™¨ï¼ˆObject Adapterï¼‰**    | è®©â€œä¸å…¼å®¹çš„å¯¹è±¡â€èƒ½è¢«å½“ä½œç›®æ ‡æ¥å£ä½¿ç”¨ | é€šè¿‡**ç»„åˆ / èšåˆ**                                          | é€‚é…å™¨**æŒæœ‰**ä¸€ä¸ªè¢«é€‚é…è€…å¯¹è±¡å®ä¾‹ï¼ˆAdapteeï¼‰ï¼Œå®ç°ç›®æ ‡æ¥å£ï¼ˆTargetï¼‰ã€‚ | æœ€å¸¸ç”¨ã€æœ€çµæ´»ï¼Œè§£è€¦æ€§å¥½ã€‚                                   |
| **æ¥å£é€‚é…å™¨ï¼ˆInterface Adapterï¼‰** | è®©â€œæ¥å£æ–¹æ³•å¤ªå¤šâ€çš„ä½¿ç”¨è€…æ›´æ–¹ä¾¿       | é€šè¿‡**æŠ½è±¡ç±»çš„é»˜è®¤å®ç°**ï¼Œç„¶åå†é€šè¿‡å¯¹è±¡é€‚é…å™¨çš„æ–¹å¼å®ç°é€‚é…ï¼ˆå› ä¸ºJavaä¸èƒ½å¤šç»§æ‰¿ï¼‰ | é’ˆå¯¹**æ¥å£ä¸­å­˜åœ¨å¤§é‡æ–¹æ³•**çš„æƒ…å†µï¼Œæä¾›ä¸€ä¸ªæŠ½è±¡é€‚é…å™¨ç±»ï¼Œå®ç°æ‰€æœ‰æ–¹æ³•çš„ç©ºå®ç°ã€‚ | å­ç±»å¯ä»¥åªé‡å†™è‡ªå·±éœ€è¦çš„æ–¹æ³•ï¼Œå¸¸è§äºç›‘å¬å™¨åœºæ™¯ï¼ˆå¦‚ Java çš„ MouseAdapterï¼‰ã€‚ |

#### æ³¨æ„ï¼š

æ¥å£é€‚é…å™¨ï¼ˆåˆç§°é»˜è®¤é€‚é…å™¨æ¨¡å¼ï¼‰ï¼š

â€‹	æ¥å£é€‚é…å™¨æ¨¡å¼æ˜¯ä»*ç±»çš„ç»§æ‰¿ç»“æ„*è§’åº¦å‡ºå‘çš„ï¼Œé€‚ç”¨äºæ¥å£æ–¹æ³•è¿‡å¤šçš„åœºæ™¯ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ä¸å…¼å®¹æ¥å£è¿›è¡Œâ€˜è½¬æ¢â€™çš„ç»“æ„å‹é€‚é…ã€‚

â€‹	æ˜¯åœ¨â€œæ¥å£æ–¹æ³•è¿‡å¤šâ€æˆ–â€œæ¥å£é¢—ç²’åº¦ä¸åˆç†â€çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æŠ½è±¡ç±»æä¾›é»˜è®¤ç©ºå®ç°ï¼Œè®©ä½¿ç”¨è€…å¯ä»¥åªé‡å†™è‡ªå·±å…³å¿ƒçš„æ–¹æ³•ã€‚

â€‹	å®ƒæ›´å¤šæ˜¯ä¸ºäº†è§£å†³æ¥å£è‡ƒè‚¿å¯¼è‡´çš„å¼€å‘ä¸ä¾¿é—®é¢˜ï¼Œå¹¶ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šâ€œç»“æ„å‹é€‚é…å™¨â€çš„æˆå‘˜ï¼Œè€Œæ˜¯ä¸€ç§æ¥å£å±‚é¢çš„å®ç”¨æŠ€å·§ã€‚

åŸæ¥å£è®¾è®¡æœ¬èº«è¿åäº† ISPï¼ˆæ¥å£éš”ç¦»åŸåˆ™ï¼‰ï¼Œæ¥å£é€‚é…å™¨å…¶å®æ˜¯â€œè¡¥æ•‘æªæ–½â€ï¼š

- å®ƒä¸æ˜¯è¿åæ¥å£éš”ç¦»åŸåˆ™ï¼Œè€Œæ˜¯**åœ¨æ¥å£å·²ç»è¿å ISP çš„å‰æä¸‹ï¼Œæä¾›ä¸€ä¸ªæŠ˜ä¸­è§£å†³æ–¹æ¡ˆ**ã€‚
- é€šè¿‡é€‚é…å™¨ç±»ï¼Œè®©å®¢æˆ·ç«¯å¯ä»¥**é—´æ¥å®ç°éƒ¨åˆ†æ¥å£æ–¹æ³•**ï¼Œä»è€Œ**é™ä½è¿èƒŒ ISP å¸¦æ¥çš„ä»£ä»·**ã€‚

æ¥å£é€‚é…å™¨å®Œå…¨ç¬¦åˆ LSPï¼ˆé‡Œæ°æ›¿æ¢åŸåˆ™ï¼‰ï¼š

- æŠ½è±¡é€‚é…å™¨ç±»å®ç°äº†æ¥å£ï¼Œå› æ­¤æœ¬èº«æ˜¯æ¥å£çš„å­ç±»å‹ï¼›
- å­ç±»ç»§æ‰¿é€‚é…å™¨åï¼Œä¾æ—§å¯ä»¥è¢«å½“ä½œè¯¥æ¥å£ç±»å‹ä½¿ç”¨ï¼›
- å³ä½¿å­ç±»åªé‡å†™éƒ¨åˆ†æ–¹æ³•ï¼Œä¹Ÿä¸ä¼šç ´åè¡Œä¸ºå¥‘çº¦ï¼ˆç©ºå®ç°ä¾æ—§æ˜¯åˆæ³•çš„ï¼‰ã€‚

### ç±»é€‚é…å™¨æ¨¡å¼

#### è§’è‰²ä»‹ç»ï¼š

**1.Targetï¼ˆç›®æ ‡æŠ½è±¡ç±»\æ¥å£ï¼‰**
	ç›®æ ‡æŠ½è±¡ç±»å®šä¹‰å®¢æˆ·è¦ç”¨çš„ç‰¹å®šé¢†åŸŸçš„æ¥å£ï¼Œå¯ä»¥æ˜¯ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“ç±»ï¼›

â€‹	åœ¨ç±»é€‚é…å™¨ä¸­ï¼Œç”±äºJavaè¯­å¥ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå®ƒåªèƒ½æ˜¯æ¥å£ã€‚
**2.Adapterï¼ˆé€‚é…å™¨ç±»ï¼‰**
â€‹	é€‚é…å™¨ç±»å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºä¸€ä¸ªè½¬æ¢å™¨ï¼Œå¯¹Adapteeå’ŒTargetè¿›è¡Œé€‚é…ã€‚

â€‹	é€‚é…å™¨Adapteræ˜¯é€‚é…å™¨æ¨¡å¼çš„æ ¸å¿ƒï¼Œåœ¨ç±»é€‚é…å™¨ä¸­ï¼Œå®ƒé€šè¿‡å®ç°Targetæ¥å£å¹¶ç»§æ‰¿Adapteeç±»æ¥ä½¿äºŒè€…äº§ç”Ÿè”ç³»ï¼›
**3.Adaptee(é€‚é…è€…ç±»ï¼‰**
â€‹	é€‚é…è€…å³è¢«é€‚é…çš„è§’è‰²ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£éœ€è¦é€‚é…ã€‚é€‚é…è€…ç±»ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“ç±»ï¼ŒåŒ…å«äº†å®¢æˆ·å¸Œæœ›ä½¿ç”¨çš„ä¸šåŠ¡æ–¹æ³•ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ç”šè‡³æ²¡æœ‰é€‚é…è€…ç±»çš„æºä»£ç ã€‚
**4.Clientï¼ˆå®¢æˆ·ç±»ï¼‰**
â€‹	åœ¨å®¢æˆ·ç±»ä¸­é’ˆå¯¹ç›®æ ‡æŠ½è±¡ç±»è¿›è¡Œç¼–ç¨‹ï¼Œè°ƒç”¨åœ¨ç›®æ ‡æŠ½è±¡ç±»ä¸­å®šä¹‰çš„ä¸šåŠ¡æ–¹æ³•ã€‚

![1760968538703](images/1.é€‚é…å™¨æ¨¡å¼/1760968538703.png)

### å¯¹è±¡é€‚é…å™¨æ¨¡å¼

#### è§’è‰²ä»‹ç»ï¼š

**1.Targetï¼ˆç›®æ ‡æŠ½è±¡ç±»\æ¥å£ï¼‰**
	ç›®æ ‡æŠ½è±¡ç±»å®šä¹‰å®¢æˆ·è¦ç”¨çš„ç‰¹å®šé¢†åŸŸçš„æ¥å£ï¼Œå¯ä»¥æ˜¯ä¸ªæŠ½è±¡ç±»æˆ–æ¥å£ï¼Œä¹Ÿå¯ä»¥æ˜¯å…·ä½“ç±»ï¼›

â€‹	åœ¨ç±»é€‚é…å™¨ä¸­ï¼Œç”±äºJavaè¯­å¥ä¸æ”¯æŒå¤šé‡ç»§æ‰¿ï¼Œå®ƒåªèƒ½æ˜¯æ¥å£ã€‚
**2.Adapterï¼ˆé€‚é…å™¨ç±»ï¼‰**
â€‹	é€‚é…å™¨ç±»å¯ä»¥è°ƒç”¨å¦ä¸€ä¸ªæ¥å£ï¼Œä½œä¸ºä¸€ä¸ªè½¬æ¢å™¨ï¼Œå¯¹Adapteeå’ŒTargetè¿›è¡Œé€‚é…ã€‚

â€‹	é€‚é…å™¨Adapteræ˜¯é€‚é…å™¨æ¨¡å¼çš„æ ¸å¿ƒï¼Œåœ¨å¯¹è±¡é€‚é…å™¨ä¸­ï¼Œå®ƒé€šè¿‡ç»§æ‰¿ï¼ˆæˆ–å®ç°ï¼‰Targetå¹¶å…³è”ä¸€ä¸ªAdapteeå¯¹è±¡ä½¿äºŒè€…äº§ç”Ÿè”ç³»ã€‚
**3.Adaptee(é€‚é…è€…ç±»ï¼‰**
â€‹	é€‚é…è€…å³è¢«é€‚é…çš„è§’è‰²ï¼Œå®ƒå®šä¹‰äº†ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ¥å£ï¼Œè¿™ä¸ªæ¥å£éœ€è¦é€‚é…ã€‚é€‚é…è€…ç±»ä¸€èˆ¬æ˜¯ä¸€ä¸ªå…·ä½“ç±»ï¼ŒåŒ…å«äº†å®¢æˆ·å¸Œæœ›ä½¿ç”¨çš„ä¸šåŠ¡æ–¹æ³•ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ç”šè‡³æ²¡æœ‰é€‚é…è€…ç±»çš„æºä»£ç ã€‚
**4.Clientï¼ˆå®¢æˆ·ç±»ï¼‰**
â€‹	åœ¨å®¢æˆ·ç±»ä¸­é’ˆå¯¹ç›®æ ‡æŠ½è±¡ç±»è¿›è¡Œç¼–ç¨‹ï¼Œè°ƒç”¨åœ¨ç›®æ ‡æŠ½è±¡ç±»ä¸­å®šä¹‰çš„ä¸šåŠ¡æ–¹æ³•ã€‚

![1760969422628](images/1.é€‚é…å™¨æ¨¡å¼/1760969422628.png)

### ç¼ºçœé€‚é…å™¨æ¨¡å¼

â€‹	å…¶ä»–è§’è‰²ä¸å¯¹è±¡é€‚é…å™¨ä¸€è‡´ï¼Œä½†æ˜¯å¤šäº†ä¸€ä¸ªAbstractAdapterè§’è‰²

**1.AbstractAdapterï¼ˆæŠ½è±¡é€‚é…å™¨ï¼‰**
	ç›®æ ‡æ¥å£æ–¹æ³•æ•°é‡è¿‡å¤šï¼Œè€Œå½“å‰é€‚é…å™¨åªå…³æ³¨éƒ¨åˆ†æ–¹å¼æ—¶ï¼Œé€šè¿‡æŠ½è±¡é€‚é…å™¨å®ç°ç›¸å…³æ¥å£ï¼Œå¹¶æä¾›é»˜è®¤å®ç°ï¼ˆç©ºå®ç°æˆ–å…¶ä»–ï¼‰ï¼Œç„¶åå…·ä½“é€‚é…å™¨ç»§æ‰¿æŠ½è±¡é€‚é…å™¨ï¼Œé‡å†™å¯¹åº”å…³æ³¨çš„æ–¹æ³•å³å¯ã€‚

![1761054601575](images/1.é€‚é…å™¨æ¨¡å¼/1761054601575.png)

## æºç 

### ç±»é€‚é…å™¨

ç±»å›¾ï¼š

![1761139400251](images/1.é€‚é…å™¨æ¨¡å¼/1761139400251.png)

æºç ï¼š

~~~ java
// è¢«é€‚é…è€…ï¼šå®¶ç”¨ç”µæºï¼Œè¾“å‡º220V
public class AC220 {
    public int output220V() {
        System.out.println("è¾“å‡ºäº¤æµç”µ 220V");
        return 220;
    }
}
// ç›®æ ‡æ¥å£ï¼šæ‰‹æœºæœŸæœ›ç”µå‹
public interface DC5 {
    /**
     * æ‰‹æœºéœ€è¦ç”µå‹ä¸º5v
     */
    int output5V();
}
// ç±»é€‚é…å™¨ï¼šé€šè¿‡ç»§æ‰¿AC220å¹¶å®ç°DC5æ¥å£
public class ClassAdapter extends AC220 implements DC5 {
    @Override
    public int output5V() {
        // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        int src = output220V();
        // æ¨¡æ‹Ÿé™å‹è½¬æ¢
        int dst = src / 44;
        System.out.println("ä½¿ç”¨ç±»é€‚é…å™¨è½¬æ¢ç”µå‹: " + src + "V -> " + dst + "V");
        return dst;
    }
}
// æ‰‹æœºï¼šé€‚ç”¨é€‚é…å™¨
public class Phone {
    public void charging(DC5 dc5) {
        int output = dc5.output5V();
        if (output == 5) {
            System.out.println("ç”µå‹é€‚ä¸­ï¼Œå¼€å§‹å……ç”µ~");
        } else {
            System.out.println("ç”µå‹ä¸ç¬¦ï¼Œæ— æ³•å……ç”µï¼");
        }
    }
}
// å®¢æˆ·ç«¯
public class Client {
    public static void main(String[] args) {
        Phone phone = new Phone();
        DC5 adapter = new ClassAdapter();
        phone.charging(adapter);
    }
}
~~~

### å¯¹è±¡é€‚é…å™¨

ç±»å›¾ï¼š

![1761139862220](images/1.é€‚é…å™¨æ¨¡å¼/1761139862220.png)

æºç ï¼š

~~~ java
// è¢«é€‚é…è€…ï¼šå®¶ç”¨ç”µæºï¼Œè¾“å‡º220V
public class AC220 {
    public int output220V() {
        System.out.println("è¾“å‡ºäº¤æµç”µ 220V");
        return 220;
    }
}
// ç›®æ ‡æ¥å£ï¼šæ‰‹æœºæœŸæœ›ç”µå‹
public interface DC5 {
    /**
     * æ‰‹æœºéœ€è¦ç”µå‹ä¸º5v
     */
    int output5V();
}
// ç±»é€‚é…å™¨ï¼šé€šè¿‡æ³¨å…¥æˆ–åˆ›å»ºAC220å®ç°DC5æ¥å£
public class ObjectAdapter implements DC5 {
    private final AC220 ac220 = new AC220();
    @Override
    public int output5V() {
        // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        int src = ac220.output220V();
        // æ¨¡æ‹Ÿé™å‹è½¬æ¢
        int dst = src / 44;
        System.out.println("ä½¿ç”¨ç±»é€‚é…å™¨è½¬æ¢ç”µå‹: " + src + "V -> " + dst + "V");
        return dst;
    }
}
// æ‰‹æœºï¼šé€‚ç”¨é€‚é…å™¨
public class Phone {
    public void charging(DC5 dc5) {
        int output = dc5.output5V();
        if (output == 5) {
            System.out.println("ç”µå‹é€‚ä¸­ï¼Œå¼€å§‹å……ç”µ~");
        } else {
            System.out.println("ç”µå‹ä¸ç¬¦ï¼Œæ— æ³•å……ç”µï¼");
        }
    }
}
// å®¢æˆ·ç«¯
public class Client {
    public static void main(String[] args) {
        Phone phone = new Phone();
        DC5 adapter = new ClassAdapter();
        phone.charging(adapter);
    }
}
~~~

### æ¥å£é€‚é…å™¨

ç±»å›¾ï¼š

![1761140320065](images/1.é€‚é…å™¨æ¨¡å¼/1761140320065.png)ã€

æºç ï¼š

~~~ java
// è¢«é€‚é…è€…ï¼šå®¶ç”¨ç”µæºï¼Œè¾“å‡º220V
public class AC220 {
    public int output220V() {
        System.out.println("è¾“å‡ºäº¤æµç”µ 220V");
        return 220;
    }
}
// ç›®æ ‡æ¥å£ï¼šUSB å……ç”µå£ï¼ˆDC5Vï¼‰è½¦è½½ç”µæºï¼ˆDC12Vï¼‰å¿«å……æ¥å£ï¼ˆDC9V / DC20Vï¼‰
public interface PowerAdapter {
    int output5V();
    int output9V();
    int output12V();
    int output20V();
}
// æŠ½è±¡é€‚é…å™¨ï¼šæä¾›ç©ºå®ç°
public abstract class AbstractPowerAdapter implements PowerAdapter {
    @Override
    public int output5V() {return 0;}
    @Override
    public int output9V() {return 0;}
    @Override
    public int output12V() {return 0;}
    @Override
    public int output20V() {return 0;}
}
// å…·ä½“é€‚é…å™¨ï¼Œåªå…³æ³¨éƒ¨åˆ†æ–¹æ³•
public class PhonePowerAdapter extends AbstractPowerAdapter {
    private final AC220 ac220 = new AC220();

    @Override
    public int output5V() {
        // è°ƒç”¨çˆ¶ç±»æ–¹æ³•
        int src = ac220.output220V();
        // æ¨¡æ‹Ÿé™å‹è½¬æ¢
        int dst = src / 44;
        System.out.println("åªå…³æ³¨éƒ¨åˆ†æ–¹æ³•ï¼ˆ5vï¼‰é€‚é…å™¨è½¬æ¢ç”µå‹: " + src + "V -> " + dst + "V");
        return dst;
    }
}
// æ‰‹æœºï¼šé€‚ç”¨é€‚é…å™¨
public class Phone {
    public void charging(PowerAdapter adapter) {
        int v = adapter.output5V();
        if (v == 5) {
            System.out.println("ç”µå‹é€‚ä¸­ï¼Œå¼€å§‹å……ç”µ~");
        } else {
            System.out.println("ç”µå‹ä¸ç¬¦ï¼Œæ— æ³•å……ç”µï¼");
        }
    }
}
// å®¢æˆ·ç«¯
public class Client {
    public static void main(String[] args) {
        Phone phone = new Phone();
        PowerAdapter adapter = new PhonePowerAdapter();
        phone.charging(adapter);
    }
}
~~~

## ä¼˜ç¼ºç‚¹

### ä¼˜ç‚¹ï¼š

#### **1.è§£è€¦ç›®æ ‡ç±»ä¸é€‚é…è€…ç±»**
 é€šè¿‡å¼•å…¥é€‚é…å™¨ç±»ï¼ŒåŸæœ‰çš„ç›®æ ‡ç±»ä¸é€‚é…è€…ç±»ä¹‹é—´ä¸å†ç›´æ¥è€¦åˆã€‚å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸæœ‰ä»£ç çš„å‰æä¸‹ï¼Œå®ç°ä¸åŒæ¥å£é—´çš„å…¼å®¹ä¸å¤ç”¨ã€‚

#### **2.æé«˜ç±»çš„é€æ˜æ€§ä¸å¤ç”¨æ€§**
 é€‚é…è€…ç±»çš„å®ç°ç»†èŠ‚è¢«é€‚é…å™¨å°è£…ï¼Œå¯¹å®¢æˆ·ç«¯é€æ˜ï¼›åŒæ—¶åŸæœ‰ç±»çš„ä»£ç æ— éœ€ä¿®æ”¹å³å¯å¤ç”¨ï¼Œæé«˜äº†ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ä¸å¯æ‰©å±•æ€§ã€‚

#### **3.ç¬¦åˆå¼€é—­åŸåˆ™**
 å½“ç³»ç»Ÿéœ€è¦æ”¯æŒæ–°çš„é€‚é…æ–¹å¼æ—¶ï¼Œåªéœ€æ–°å¢ä¸€ä¸ªé€‚é…å™¨ç±»å³å¯ï¼Œæ— éœ€ä¿®æ”¹ç°æœ‰ç±»ç»“æ„ã€‚é€šè¿‡é…ç½®æ–‡ä»¶æˆ–ä¾èµ–æ³¨å…¥æœºåˆ¶ï¼Œè¿˜èƒ½æ–¹ä¾¿åœ°åŠ¨æ€åˆ‡æ¢ä¸åŒçš„é€‚é…å™¨å®ç°ã€‚

#### **4.å…¼å®¹æ€§ä¸çµæ´»æ€§å¼º**
 é€‚é…å™¨å¯ä»¥åœ¨å¤šä¸ªæ¨¡å—ã€ç³»ç»Ÿæˆ–ç¬¬ä¸‰æ–¹åº“ä¹‹é—´æä¾›æ¥å£æ¡¥æ¢ï¼Œä½¿åŸæœ¬ä¸å…¼å®¹çš„ç±»èƒ½å¤ŸååŒå·¥ä½œã€‚å°¤å…¶åœ¨ç³»ç»Ÿè¿ç§»ã€ç‰ˆæœ¬å‡çº§æˆ–ç¬¬ä¸‰æ–¹ç³»ç»Ÿé›†æˆä¸­éå¸¸å®ç”¨ã€‚

### ç¼ºç‚¹ï¼š

#### **1. ç±»é€‚é…å™¨æ¨¡å¼çš„ç¼ºç‚¹**

- ç”±äº Javaã€C# ç­‰è¯­è¨€**ä¸æ”¯æŒå¤šé‡ç»§æ‰¿**ï¼Œä¸€ä¸ªé€‚é…å™¨ç±»**ä¸€æ¬¡åªèƒ½é€‚é…ä¸€ä¸ªé€‚é…è€…ç±»**ã€‚
- ç›®æ ‡æŠ½è±¡ç±»å‹åªèƒ½ä¸ºæ¥å£ï¼Œä¸èƒ½æ˜¯ç±»ï¼Œå¦åˆ™æ— æ³•åŒæ—¶ç»§æ‰¿ç›®æ ‡å’Œé€‚é…è€…ã€‚
- ä¸èƒ½åŒæ—¶é€‚é…ä¸€ä¸ªç±»åŠå…¶å­ç±»ï¼Œé€‚ç”¨èŒƒå›´å—é™ã€‚
- åœ¨è¿è¡ŒæœŸæ— æ³•åŠ¨æ€æ›¿æ¢é€‚é…è€…å®ç°ï¼Œçµæ´»æ€§è¾ƒä½ã€‚

#### **2. å¯¹è±¡é€‚é…å™¨æ¨¡å¼çš„ç¼ºç‚¹**

- ç›¸æ¯”ç±»é€‚é…å™¨ï¼Œ**æ›´æ¢æˆ–è¦†å†™é€‚é…è€…æ–¹æ³•çš„éš¾åº¦è¾ƒå¤§**ã€‚
   è‹¥è¦æ›¿æ¢é€‚é…è€…çš„æŸäº›æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡åˆ›å»ºé€‚é…è€…çš„å­ç±»ï¼Œç„¶åå†ç”±é€‚é…å™¨æŒæœ‰è¯¥å­ç±»å®ä¾‹ï¼Œè¿‡ç¨‹ç›¸å¯¹å¤æ‚ã€‚
- **é—´æ¥è°ƒç”¨å¢åŠ å±‚æ¬¡**ï¼šå¤šäº†ä¸€å±‚å¯¹è±¡èšåˆï¼Œå¯èƒ½å¸¦æ¥è½»å¾®æ€§èƒ½å¼€é”€ã€‚
- å¦‚æœå®¢æˆ·ç«¯æœªé¢å‘ç›®æ ‡æ¥å£ç¼–ç¨‹ï¼Œè€Œç›´æ¥ä¾èµ–é€‚é…å™¨å…·ä½“å®ç°ï¼Œä¼šå‰Šå¼±å…¶è§£è€¦æ•ˆæœã€‚

#### **3. æ¥å£é€‚é…å™¨æ¨¡å¼çš„ç¼ºç‚¹**

- å®ç°ç±»**å¿…é¡»ç»§æ‰¿æŠ½è±¡é€‚é…å™¨ç±»**ï¼Œå› è€Œä¹Ÿå—åˆ¶äº**å•ç»§æ‰¿é™åˆ¶**ã€‚
- è™½ç„¶å¯ä»¥åªé‡å†™éœ€è¦çš„æ–¹æ³•ï¼Œä½†å®¹æ˜“å¯¼è‡´æ¥å£è¿‡å¤§ã€èŒè´£ä¸æ¸…ï¼Œ**è¿èƒŒæ¥å£éš”ç¦»åŸåˆ™ä¸å•ä¸€èŒè´£åŸåˆ™**ã€‚
- ä¸»è¦ç”¨äº**ç®€åŒ–æ¥å£å®ç°**ï¼Œè€Œéâ€œçœŸæ­£çš„æ¥å£è½¬æ¢â€ï¼Œé€‚ç”¨èŒƒå›´ç›¸å¯¹æœ‰é™ã€‚

## é€‚ç”¨åœºæ™¯

### 1.ç³»ç»Ÿéœ€è¦å¤ç”¨ç°æœ‰ç±»ï¼Œä½†å…¶æ¥å£ä¸å½“å‰ç³»ç»Ÿä¸å…¼å®¹

å½“ç³»ç»Ÿéœ€è¦è°ƒç”¨ä¸€ä¸ªå·²æœ‰ç±»ï¼ˆæˆ–ç¬¬ä¸‰æ–¹åº“ï¼‰çš„åŠŸèƒ½ï¼Œä½†è¯¥ç±»çš„æ¥å£å®šä¹‰ä¸å½“å‰ç³»ç»Ÿæ¥å£ä¸ä¸€è‡´æ—¶ï¼Œå¯ä»¥é€šè¿‡**é€‚é…å™¨**æ¥å®ç°æ¥å£è½¬æ¢ï¼Œè€Œæ— éœ€ä¿®æ”¹åŸæœ‰ç±»ä»£ç ã€‚

> âœ… å…¸å‹ç¤ºä¾‹ï¼š
>
> - ç³»ç»Ÿéœ€è¦ä½¿ç”¨æ—§ç‰ˆæ—¥å¿—åº“ï¼ˆå¦‚ Log4jï¼‰è€Œé¡¹ç›®é‡‡ç”¨ SLF4J è§„èŒƒæ—¶ï¼Œå¯ç¼–å†™é€‚é…å™¨ç»Ÿä¸€è°ƒç”¨æ–¹å¼ã€‚
> - æ‰‹æœºå……ç”µä¾‹ï¼šæ‰‹æœºï¼ˆç›®æ ‡ï¼‰éœ€è¦ 5Vï¼Œè€Œæ’åº§ï¼ˆè¢«é€‚é…è€…ï¼‰è¾“å‡º 220Vï¼Œéœ€ä½¿ç”¨ç”µæºé€‚é…å™¨ã€‚

------

### 2.å¸Œæœ›åˆ›å»ºä¸€ä¸ªå¯å¤ç”¨çš„ç±»ï¼Œä¸å¤šä¸ªä¸å…¼å®¹æ¥å£ååŒå·¥ä½œ

é€‚é…å™¨å¯ä½œä¸ºä¸€ä¸ª**é€šç”¨è½¬æ¢å±‚**ï¼Œä½¿åŸæœ¬ä¸å…¼å®¹çš„å¤šä¸ªç±»ååŒå·¥ä½œï¼Œå¢å¼ºç³»ç»Ÿçš„å¤ç”¨æ€§å’Œæ‰©å±•æ€§ã€‚

> âœ… å…¸å‹ç¤ºä¾‹ï¼š
>
> - æ•°æ®å¯¼å…¥å¯¼å‡ºæ¨¡å—ä¸­ï¼Œéœ€è¦å…¼å®¹ Excelã€CSVã€JSON ç­‰å¤šç§æ ¼å¼ï¼Œé€šè¿‡é€‚é…å™¨å¯¹å¤–æä¾›ç»Ÿä¸€çš„å¯¼å…¥å¯¼å‡ºæ¥å£ã€‚
> - æ”¯ä»˜ç³»ç»Ÿä¸­ï¼Œæ”¯ä»˜å®ã€å¾®ä¿¡ã€PayPal ç­‰æ¥å£å„ä¸ç›¸åŒï¼Œå¯é€šè¿‡é€‚é…å™¨ç»Ÿä¸€ä¸ºåŒä¸€æ”¯ä»˜æ ‡å‡†æ¥å£ã€‚

------

### 3.å¸Œæœ›ç³»ç»Ÿèƒ½å¤Ÿçµæ´»æ›¿æ¢æˆ–æ‰©å±•é€‚é…é€»è¾‘

é€šè¿‡é…ç½®æˆ–ä¾èµ–æ³¨å…¥æ–¹å¼ï¼Œå¯ä»¥çµæ´»æ›¿æ¢ä¸åŒé€‚é…å™¨å®ç°ï¼Œå¢å¼ºç³»ç»Ÿå¯æ‰©å±•æ€§ï¼Œç¬¦åˆâ€œå¼€é—­åŸåˆ™â€ã€‚

> âœ… ç¤ºä¾‹ï¼š
>
> - æ—¥å¿—æ¡†æ¶å¯é€šè¿‡é…ç½®æ–‡ä»¶åˆ‡æ¢ä¸åŒæ—¥å¿—é€‚é…å™¨ï¼ˆå¦‚ Logbackã€Log4j2ï¼‰ã€‚
> - äº‘å­˜å‚¨ SDK å¯é€šè¿‡é€‚é…å™¨æ”¯æŒå¤šç§å‚å•†ï¼ˆé˜¿é‡Œäº‘ OSSã€åä¸º OBSã€äºšé©¬é€Š S3ï¼‰ã€‚

------

### 4.æ¥å£æ–¹æ³•è¿‡å¤šï¼Œä½†åªéœ€ä½¿ç”¨å…¶ä¸­ä¸€éƒ¨åˆ†åŠŸèƒ½

åœ¨æ¥å£å®šä¹‰è¿‡äºåºå¤§ã€ä½†å­ç±»ä»…éœ€éƒ¨åˆ†åŠŸèƒ½æ—¶ï¼Œå¯ä½¿ç”¨**æ¥å£é€‚é…å™¨æ¨¡å¼**ï¼ˆé€šè¿‡æŠ½è±¡ç±»æä¾›ç©ºå®ç°ï¼‰ï¼Œè®©å­ç±»æ ¹æ®éœ€è¦é‡å†™ç›¸åº”æ–¹æ³•ã€‚

> âœ… ç¤ºä¾‹ï¼š
>
> - GUI äº‹ä»¶ç›‘å¬æ¥å£å¦‚ `MouseListener`ï¼Œé€šå¸¸åªéœ€å…³å¿ƒéƒ¨åˆ†äº‹ä»¶ï¼ˆå¦‚ `mouseClicked()`ï¼‰ï¼Œæ­¤æ—¶ä½¿ç”¨æŠ½è±¡é€‚é…å™¨ç±» `MouseAdapter` ç®€åŒ–å®ç°ã€‚

------

### 5.åœ¨ç³»ç»Ÿè¿ç§»ã€é›†æˆæˆ–ç¬¬ä¸‰æ–¹ç³»ç»Ÿå¯¹æ¥ä¸­æä¾›å…¼å®¹å±‚

å½“ç³»ç»Ÿä¸­å­˜åœ¨å¤šä¸ªå†å²ç‰ˆæœ¬ã€æ—§ç³»ç»Ÿæ¥å£æˆ–å¤–éƒ¨ç³»ç»Ÿæ ‡å‡†ä¸ä¸€è‡´æ—¶ï¼Œé€‚é…å™¨å¯ä»¥ä½œä¸ºå…¼å®¹å±‚æ¡¥æ¥ä¸åŒæ¥å£è§„èŒƒï¼Œé¿å…ç³»ç»Ÿå¤§è§„æ¨¡ä¿®æ”¹ã€‚

> âœ… ç¤ºä¾‹ï¼š
>
> - æ—§æ¥å£ç³»ç»Ÿè¿ç§»åˆ°æ–°æ¡†æ¶æ—¶ï¼Œé€šè¿‡é€‚é…å™¨è®©æ–°ç³»ç»Ÿä»å¯è°ƒç”¨æ—§æ¨¡å—ï¼›
> - æ¥å…¥å¤–éƒ¨ API æ—¶ï¼Œé€šè¿‡é€‚é…å™¨å°†å¤–éƒ¨æ•°æ®æ ¼å¼è½¬æ¢ä¸ºå†…éƒ¨æ ‡å‡†æ¨¡å‹ã€‚

## åº”ç”¨

### 1ã€JDK / Spring æ¡†æ¶ä¸­çš„åº”ç”¨ â€”â€” `HandlerAdapter`

#### åŸç†ï¼š

â€‹	Spring MVC ä¸­ Controller çš„å®ç°æ–¹å¼éå¸¸å¤šæ ·ï¼ŒåŒ…æ‹¬ä¼ ç»Ÿçš„ `Controller`ã€`HttpRequestHandler`ã€æ³¨è§£æ–¹å¼çš„ `@RequestMapping`ã€ç”šè‡³ç¬¬ä¸‰æ–¹æ‰©å±•çš„ Handlerã€‚è¿™äº›ç±»å¹¶æ²¡æœ‰å®ç°å…±åŒæ¥å£ï¼Œå› æ­¤ DispatcherServlet æ— æ³•ç›´æ¥è°ƒç”¨å®ƒä»¬ã€‚

â€‹	ä¸ºäº†è§£è€¦ DispatcherServlet ä¸å„ç§ Controller çš„å®ç°æ–¹å¼ï¼ŒSpring MVC å¼•å…¥äº†é€‚é…å™¨æœºåˆ¶ã€‚æ¯ç§ Handler éƒ½ç”±å…¶å¯¹åº”çš„ `HandlerAdapter` è´Ÿè´£é€‚é…ï¼ŒDispatcherServlet åªä¾èµ– `HandlerAdapter` æ¥å£ï¼Œä»è€Œèƒ½å¤Ÿä»¥ç»Ÿä¸€æ–¹å¼è°ƒç”¨ä¸åŒç±»å‹çš„ Controllerã€‚

â€‹	é€‚é…å™¨æ¨¡å¼åœ¨ Spring MVC ä¸­è§£å†³äº†â€œ**æ¥å£ä¸ç»Ÿä¸€ä½†åˆå¿…é¡»åä½œ**â€çš„é—®é¢˜ï¼Œæé«˜äº†æ¡†æ¶çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ã€‚

åœ¨ Spring MVC ä¸­ï¼Œ**é€‚é…å™¨æ¨¡å¼**çš„å…¸å‹åº”ç”¨æ˜¯ `HandlerAdapter`ã€‚
 Spring MVC æ”¯æŒå¤šç§ç±»å‹çš„ Controllerï¼ˆå¦‚ `Controller`ã€`HttpRequestHandler`ã€`@RequestMapping` æ ‡æ³¨çš„æ–¹æ³•ç­‰ï¼‰ï¼Œè€Œ DispatcherServlet å¹¶ä¸çŸ¥é“å…·ä½“è°ƒç”¨å“ªç§ç±»å‹çš„ Controller çš„æ–¹æ³•ï¼Œäºæ˜¯å¼•å…¥äº† **é€‚é…å™¨æœºåˆ¶**ã€‚

####  ç±»å›¾å…³ç³»ï¼ˆç®€åŒ–ç¤ºæ„ï¼‰ï¼š

```
DispatcherServlet â†’ HandlerAdapter â†’ å„ç§ Controller
```

#### è¯´æ˜ï¼š

- `DispatcherServlet` ä½œä¸º**è°ƒç”¨è€…ï¼ˆå®¢æˆ·ç«¯ï¼‰**ï¼Œå®ƒåªè®¤è¯† `HandlerAdapter` æ¥å£ã€‚
- ä¸åŒç±»å‹çš„ Controller æœ‰å„è‡ªçš„é€‚é…å™¨å®ç°ï¼š
  - `SimpleControllerHandlerAdapter` é€‚é…ä¼ ç»Ÿ Controller
  - `HttpRequestHandlerAdapter` é€‚é… HttpRequestHandler
  - `RequestMappingHandlerAdapter` é€‚é…æ³¨è§£æ–¹å¼ Controller
- `DispatcherServlet` å¹¶ä¸å…³å¿ƒå…·ä½“æ§åˆ¶å™¨çš„ç±»å‹ï¼Œåªè¦æœ‰åˆé€‚çš„ HandlerAdapter å³å¯å®Œæˆè°ƒç”¨ã€‚

#### ä¼˜ç‚¹ï¼š

- é€šè¿‡é€‚é…å™¨æœºåˆ¶ï¼ŒSpring MVC è½»æ¾æ”¯æŒå¤šç§ç±»å‹çš„æ§åˆ¶å™¨ï¼›
- å½“æ–°å¢ä¸€ç§ Controller ç±»å‹æ—¶ï¼Œåªéœ€æ–°å¢ä¸€ä¸ª HandlerAdapterï¼›
- å®Œå…¨ç¬¦åˆå¼€é—­åŸåˆ™ï¼Œæå¤§æé«˜æ¡†æ¶æ‰©å±•æ€§ã€‚

> âœ… **æ€»ç»“**ï¼š
>  Spring MVC çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³ä¸­ï¼Œ`HandlerAdapter` æ˜¯**å¯¹è±¡é€‚é…å™¨æ¨¡å¼**çš„å…¸å‹å®ç°ï¼š
>
> - å®ƒå°† `Controller` çš„ä¸åŒç±»å‹æ–¹æ³•ç»Ÿä¸€ä¸º `handle()` è°ƒç”¨æ¥å£ï¼›
> - é€šè¿‡èšåˆï¼ˆæŒæœ‰ Controller å¯¹è±¡ï¼‰å®ç°çµæ´»é€‚é…ã€‚

------

#### æºç debugåˆ†æï¼š

æµ‹è¯•Controller:

â€‹	æ³¨æ„ï¼Œè¯¥controllerå…·æœ‰æ³¨è§£`@RequestMapping`

![1764166970582](images/1.é€‚é…å™¨æ¨¡å¼/1764166970582.png)

ç„¶åè¯·æ±‚ä¼šå‘é€ç»™`DispatcherServlet`

â€‹	ç”±æ–¹æ³•`org.springframework.web.servlet.DispatcherServlet#doDispatch`è¿›è¡Œå¤„ç†è¯·æ±‚ï¼Œå¤§æ¦‚æµç¨‹ï¼š

##### 1ã€æ ¹æ®è¯·æ±‚`request`è·å–å¯¹åº”çš„handler(ä¹Ÿå°±æ˜¯ç›®å‰ç†è§£ä¸Šçš„controller)

â€‹	è¿™é‡Œä½¿ç”¨äº†ç­–ç•¥æ¨¡å¼è¿›è¡Œè·å–handlerã€‚

![1764167520567](images/1.é€‚é…å™¨æ¨¡å¼/1764167520567.png)

â€‹	åœ¨æœ¬æ¬¡è°ƒç”¨testæ¥å£ä¸­ï¼Œè·å–åˆ°çš„handlerå¦‚ä¸‹ï¼š

â€‹	å¯ä»¥çœ‹åˆ°ï¼Œå…¶å°±æ˜¯æˆ‘ä»¬å‰é¢ä»‹ç»çš„ç±»ï¼š`TestController`ï¼Œç„¶åå…¶å…·æœ‰æ³¨è§£`@RequestMapping`

![1764167602215](images/1.é€‚é…å™¨æ¨¡å¼/1764167602215.png)

##### 2ã€æ ¹æ®handlerè·å–å¯¹åº”çš„`HandlerAdapter`:

â€‹	ç”±äºhandlerç§ç±»è¾ƒå¤šï¼Œä¸”æ²¡æœ‰è§„èŒƒï¼Œæ²¡æœ‰ç»Ÿä¸€å®ç°æŒ‡å®šæ¥å£ç­‰ï¼Œå› æ­¤`DispatcherServlet`æ— æ³•ç›´æ¥å¤„ç†ï¼Œéœ€è¦ä½¿ç”¨é€‚é…å™¨å»å¤„ç†.

â€‹	è¿™é‡Œåˆ™ä½¿ç”¨äº†ç»å…¸çš„é€‚é…å™¨æ¨¡å¼ã€‚

â€‹	å¯ä»¥çœ‹åˆ°ï¼Œspringé»˜è®¤æœ‰å››ç±»handlerçš„adapterï¼Œå…¶ä¸­ï¼Œå¯¹äºæ³¨è§£`@RequestMapping`ç±»å‹çš„handlerï¼Œåˆ™æ˜¯ç”±`RequestMappingHandlerAdapter`è¿›è¡Œå¤„ç†ã€‚

![1764167833569](images/1.é€‚é…å™¨æ¨¡å¼/1764167833569.png)

##### 3ã€é€šè¿‡`HandlerAdapter`æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼Œå®Œæˆå¤„ç†ã€‚

![1764167442220](images/1.é€‚é…å™¨æ¨¡å¼/1764167442220.png)

### 2ã€ä¸šåŠ¡åœºæ™¯ä¸­çš„åº”ç”¨ â€”â€” æ–‡ä»¶å¯¼å‡ºä¸æ–‡ä»¶æœåŠ¡å™¨é€‚é…

#### èƒŒæ™¯ï¼š

ä¼ä¸šç³»ç»Ÿä¸­å¸¸æœ‰**å¯¼å‡ºæ–‡ä»¶**æˆ–**é™„ä»¶è¿ç§»**åŠŸèƒ½ï¼Œä¸åŒå®¢æˆ·ç¯å¢ƒä¸‹æ–‡ä»¶å¤„ç†æ–¹å¼ä¸åŒï¼š

- A ç³»ç»Ÿï¼šç›´æ¥å¯¼å‡ºæœ¬åœ°å‹ç¼©åŒ…ï¼›
- B ç³»ç»Ÿï¼šå°†é™„ä»¶ä¸Šä¼ åˆ°æŒ‡å®š FTPï¼›
- C ç³»ç»Ÿï¼šä¸Šä¼ åˆ°å¯¹æ–¹çš„æ–‡ä»¶æœåŠ¡å™¨ APIã€‚

å¦‚æœç›´æ¥åœ¨å¯¼å‡ºé€»è¾‘ä¸­ç¼–å†™è¿™äº›åˆ†æ”¯ï¼Œä¼šé€ æˆ**é«˜è€¦åˆã€éš¾æ‰©å±•**çš„é—®é¢˜ã€‚

#### è§£å†³æ–¹æ¡ˆï¼šå¼•å…¥é€‚é…å™¨æ¨¡å¼

##### ï¼ˆ1ï¼‰å®šä¹‰ç›®æ ‡æ¥å£ï¼š

```java
public interface FileExportTarget {
    void exportFile(String path);
}
```

##### ï¼ˆ2ï¼‰å®šä¹‰ä¸åŒçš„é€‚é…å™¨å®ç°ï¼š

```java
// é€‚é…æœ¬åœ°æ–‡ä»¶å¯¼å‡º
public class LocalFileAdapter implements FileExportTarget {
    public void exportFile(String path) {
        // å¯¼å‡ºåˆ°æœ¬åœ°å‹ç¼©åŒ…
    }
}

// é€‚é… FTP å¯¼å‡º
public class FtpFileAdapter implements FileExportTarget {
    public void exportFile(String path) {
        // ä¸Šä¼ è‡³ FTP æœåŠ¡å™¨
    }
}

// é€‚é…è¿œç¨‹æ–‡ä»¶æœåŠ¡å™¨å¯¼å‡º
public class RemoteFileAdapter implements FileExportTarget {
    public void exportFile(String path) {
        // è°ƒç”¨ REST API ä¸Šä¼ æ–‡ä»¶
    }
}
```

##### ï¼ˆ3ï¼‰å¯¼å‡ºæœåŠ¡ä¸­ä½¿ç”¨ï¼š

```java
public class FileExportService {
    private FileExportTarget fileAdapter;

    public FileExportService(FileExportTarget adapter) {
        this.fileAdapter = adapter;
    }

    public void export(String path) {
        fileAdapter.exportFile(path);
    }
}
```

##### ï¼ˆ4ï¼‰åŠ¨æ€é€‰æ‹©é€‚é…å™¨ï¼š

```java
FileExportService service;
if (config.equals("LOCAL")) {
    service = new FileExportService(new LocalFileAdapter());
} else if (config.equals("FTP")) {
    service = new FileExportService(new FtpFileAdapter());
} else {
    service = new FileExportService(new RemoteFileAdapter());
}
service.export("/data/export");
```

#### ğŸŒŸ æ•ˆæœï¼š

- æ–°å¢å¯¼å‡ºç±»å‹æ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ï¼Œåªéœ€æ–°å¢ä¸€ä¸ªé€‚é…å™¨ç±»ï¼›
- ä»£ç ç»“æ„æ¸…æ™°ã€å¯æ‰©å±•æ€§å¼ºï¼›
- å®¢æˆ·ç«¯åªä¾èµ–æŠ½è±¡æ¥å£ `FileExportTarget`ï¼Œå®Œå…¨ç¬¦åˆå¼€é—­åŸåˆ™ã€‚